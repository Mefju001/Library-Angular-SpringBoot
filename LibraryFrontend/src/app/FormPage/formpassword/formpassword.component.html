<div class="changepassword-container">
    <h2>Zmiana Hasła</h2>
  
    <form #passwordForm="ngForm" (ngSubmit)="onSubmit(passwordForm)" novalidate>
  
      <!-- Stare hasło -->
      <div class="form-group">
        <label for="oldpassword">Stare hasło</label>
        <input
          type="password"
          id="oldpassword"
          name="oldpassword"
          [(ngModel)]="userPasswordRequest.oldpassword"
          #oldpassword="ngModel"
          required
          class="form-control"
        />
        <div *ngIf="(passwordForm.submitted || oldpassword?.touched) && !userPasswordRequest.oldpassword" class="error-message">
          To pole jest wymagane.
        </div>
      </div>
  
      <!-- Nowe hasło -->
      <div class="form-group">
        <label for="newpassword">Nowe hasło</label>
        <input
          type="password"
          id="newpassword"
          name="newpassword"
          [(ngModel)]="userPasswordRequest.newpassword"
          #newpassword="ngModel"
          required
          minlength="6"
          class="form-control"
        />
        <div *ngIf="(passwordForm.submitted || newpassword?.touched) && !userPasswordRequest.newpassword" class="error-message">
          Nowe hasło jest wymagane.
        </div>
      </div>
  
      <!-- Potwierdzenie nowego hasła -->
      <div class="form-group">
        <label for="confirmpassword">Potwierdzenie nowego hasła</label>
        <input
          type="password"
          id="confirmpassword"
          name="confirmpassword"
          [(ngModel)]="userPasswordRequest.confirmpassword"
          #confirmpassword="ngModel"
          required
          class="form-control"
        />
        <div *ngIf="(passwordForm.submitted || confirmpassword?.touched) && !userPasswordRequest.confirmpassword" class="error-message">
          Potwierdzenie hasła jest wymagane.
        </div>
      </div>
  
      <!-- Komunikaty o błędach -->
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>
  
      <!-- Przycisk do wysłania formularza -->
      <button type="submit" routerLink="/mainmenu" [disabled]="passwordForm.invalid || isSubmitting" class="btn btn-primary">
        Zmień hasło
      </button>
    </form>
  </div>
  